{% extends "base.html" %}

{% block head %}
{{ super() }}
<style>
    .slider-container {
        width: 100%;
    }
    
    .slider-container .p {
        width: 100%;
    }
    
    #tooltip1 {
        float: left;
    }
    
    #tooltip2 {
        float: right;
    }
    
    input[type=range]{
        
        opacity: 0.7;
        -webkit-transition: .2s;
        transition: opacity .2s;
    }
    
    input[type=range]:hover {
        opacity: 1; /* Fully shown on mouse-over */
      }
    
    input[type=range]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #0E00AB;
        cursor: pointer;
    }
    
    input[type=range]::-moz-range-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #0E00AB;
        cursor: pointer;
    }
</style>
{% endblock%}

{% block content %}
<div class="d-flex flex-column justify-content-center align-items-center">
    <!-- IMAGE -->
    <img src="{{ image_url}}" class="mb-4" style="height: 225px">
    
    <!-- HEADER -->
    <div class="mb-4 text-center" style="background-color: rgb(255, 255, 255)">
        <p style="font-size: 45px; font-weight: 700; margin-bottom: 0px;">Remix an Exam</p>
        <p style="font-size: 20px;">Create your own personalized exam customized for you.</p>
    </div>

    <!-- FORM -->
        <form action="/remix" method="post">
            <div class="d-flex flex-column justify-content-center">
                <div class="mb-3">
                    <label for="university">Course</label><br>
                    <input id="courseDept" placeholder="Enter course..." name="course" type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm">
                </div>
                <div class=" mb-3">
                    <label for="university">Time</label><br>
                    <input id="courseDept" placeholder="Enter time (in minutes)..." name="time" type="number" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm">
                </div>
                <div class="mb-3">
                    <label for="customRange">Difficulty: <span id="difficultyValue">Medium</span></label><br>
                    <input type="range" class="form-range" id="customRange" min="0" max="4" value="2" step="1">
                    <p><span id="tooltip1">Easy</span> <span id="tooltip2">Hard</span></p><br>
                </div>
            </div>
            
            <button type="submit" class="btn btn-dark w-100 mb-5" value="Submit">Remix â†’</button>
        </form> 
</div>

<script>
    //TODO: Sanitize here

//Slider
    document.addEventListener('DOMContentLoaded', function () {
        if (document.getElementById('customRange')) { 
            const rangeInput = document.getElementById('customRange');
            const difficultyValue = document.getElementById('difficultyValue');

            rangeInput.addEventListener('input', function () {
                const value = this.value;
                let message = '';

                if (value == 0) {
                    message = 'Easy';
                } else if (value == 1) {
                    message = 'Somewhat easy'
                } else if (value == 2) {
                    message = 'Medium'
                } else if (value == 3) {
                    message = 'Somewhat hard'
                } else {
                    message = 'Hard'
                }

                difficultyValue.innerHTML = message;
            });
        }
    });

    //***Animation slide in
    // JavaScript to add 'loaded' class to body when the page is fully loaded
    document.addEventListener('DOMContentLoaded', function() {
        document.body.classList.add('loaded');
    });
</script>

{% endblock %}

